{%load static tailwind_tags%}
{%load static%}
<html lang="en" data-theme="main">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Siparişinizi Tamamlayın</title>
  <link rel="stylesheet" href="{%static 'intern_app/css/checkout.css'%}">
  {% tailwind_css %}
</head>

<body>
  
  <div class="du-drawer du-drawer-end ">
    <input id="my-drawer" type="checkbox" class="du-drawer-toggle">
    <div class="general-wrapper du-drawer-content relative flex  flex-col lg:flex-row gap-4 mx-10 lg:mx-40 p-6">
      <div class="du-drawer du-drawer-end">
        <input id="kart-drawer" type="checkbox" class="du-drawer-toggle">
        <div class="du-drawer-content relative flex  flex-col lg:flex-row gap-4 mx-10 p-6 ">
          <div id="iletisim" class="tab active tabShow  iletisim  justify-center shadow-2xl  relative bg-white w-full lg:w-2/3  rounded-4xl  ">
          
            <form method="POST" id="regForm" enctype="multipart/form-data">
              {%csrf_token%}
              <div class="baslik pt-3  flex flex-row justify-between p-2 items-center">      
              <div class="butongeri  ">
                  <a href="{%url 'intern_app:index'%}" class=" du-btn bg-green-100 hover:bg-green-300 " >
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4  ">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />
                    </svg>
                  </a>
              </div>
              <div class="baslik-alt flex m-auto">
                <h2>Adres & İletişim Bilgileri</h2> 
              </div>
            </div>
            <div class="iletisim-wrap transition-all duration-500  justify-center pt-0 p-5">
              <div class="kayitlilar grid grid-cols-1 w-full pb-3">
                <div class="kayitlilar-icerik bg-white rounded-2xl border border-gray-200 shadow-md transition-shadow duration-300 ease-in-out hover:shadow-lg">
                  <div class="kayitli-ana-icerik p-4">
                    <div id="degerler-adres">

                      <input type="hidden" id="default-name" value="{{ adres_ilk.name }}">
                      <input type="hidden" id="default-surname" value="{{ adres_ilk.surname }}">
                      <input type="hidden" id="default-email" value="{{ adres_ilk.email }}">
                      <input type="hidden" id="default-telno" value="{{ adres_ilk.telno }}">
                      <input type="hidden" id="default-city" value="{{ adres_ilk.city }}">
                      <input type="hidden" id="default-town" value="{{ adres_ilk.town }}">
                      <input type="hidden" id="default-zipcode" value="{{ adres_ilk.zipcode }}">
                      <input type="hidden" id="default-open_address" value="{{ adres_ilk.open_address }}">
                    </div>
                    <!-- Başlık ve Buton -->
                     <div id="wrapper">

                       <div class="title flex justify-between items-center border-b border-gray-200 pb-2 mb-2">
                         <h2 class="text-lg font-semibold text-gray-800">
                           {{adres_ilk.address_title}}
                         </h2>
                         <label for="my-drawer"
                           class="du-btn rounded-xl text-sm font-medium px-4 py-2 border border-black bg-white text-black hover:bg-gray-100 hover:shadow-[0_0_15px_4px_rgba(0,0,0,0.1)] transition-all duration-300 ease-in-out">
                           Ekle/Değiştir
                         </label>
                       </div>
                 
                       <!-- Açıklama / Adres -->
                       <div class="aciklama text-gray-700 text-sm leading-relaxed">
                         {{adres_ilk.open_address}}            
                       </div>
                 
                     </div>
                    <!-- Checkbox -->
                    <div class="varsayilan-sec flex items-center justify-end gap-3 pt-5">
                      <label for="kullan" class="text-sm text-gray-700">
                        Bu adresi kullanmak istiyor musunuz?
                      </label>
                      <input type="checkbox" id="use-default-address" class="du-checkbox w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500" id="kullan" name="kullan">
                    </div>
                    
                  </div>
                </div>
              </div>
              
          
              
          
            
            <div class="isim-soyisim-wrapper gap-2   flex flex-row  ">
              <div class="ad  w-40 ">
                <label class="du-input  bg-white shadow du-validator">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 opacity-50 "><path stroke-linecap="round" stroke-linejoin="round" d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z" /></svg>
                  <input required type="text" oninput="this.value=this.value.replace(/[^a-zA-Z]/g,'');" placeholder="İsim" name="isim" minlength="2" id="name">
                </label>
              
              </div>
              <div class="soyad   w-50 ">
                <label class="du-input  bg-white shadow du-validator" >
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 opacity-50">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z" />
                  </svg>
                  <input required type="text" oninput="this.value=this.value.replace(/[^a-zA-Z]/g,'');" placeholder="Soyisim" name="soyisim" minlength="2" id="surname">
                  
                </label>
              </div>
            </div>
            <div class="mail-tel-wrapper flex flex-row   gap-2 pt-2">
              <div class="email w-50 pb-1">
                <label class="du-input bg-white shadow du-validator">
                  <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g stroke-linejoin="round" stroke-linecap="round" stroke-width="2.5" fill="none" stroke="currentColor"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></g></svg>
                  <input   required type="email" placeholder="E-Mail" name="email" minlength="2" id="email">
                </label>
                
              </div>
              <div class="tel-no  w-40">
                <label class="du-input   bg-white shadow du-validator">
                  <svg class="h-[1em] opacity-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g fill="none"><path d="M7.25 11.5C6.83579 11.5 6.5 11.8358 6.5 12.25C6.5 12.6642 6.83579 13 7.25 13H8.75C9.16421 13 9.5 12.6642 9.5 12.25C9.5 11.8358 9.16421 11.5 8.75 11.5H7.25Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6 1C4.61929 1 3.5 2.11929 3.5 3.5V12.5C3.5 13.8807 4.61929 15 6 15H10C11.3807 15 12.5 13.8807 12.5 12.5V3.5C12.5 2.11929 11.3807 1 10 1H6ZM10 2.5H9.5V3C9.5 3.27614 9.27614 3.5 9 3.5H7C6.72386 3.5 6.5 3.27614 6.5 3V2.5H6C5.44771 2.5 5 2.94772 5 3.5V12.5C5 13.0523 5.44772 13.5 6 13.5H10C10.5523 13.5 11 13.0523 11 12.5V3.5C11 2.94772 10.5523 2.5 10 2.5Z" fill="currentColor"></path></g></svg>
                  <input required minlength="11" maxlength="11" type="text" oninput="this.value=this.value.replace(/[^0-9]/g,'');" name="telno" placeholder="05XX XXX XXXX" id="telno">
                </label>
              
              </div>
            </div>
              <div class="adres  **:bg-transparent flex flex-row gap-x-2 pt-1 gap-y-2">
                <div class="il w-25 ">
                
                <input type="text" class="du-input du-validator shadow" name="il" id="il" placeholder="İl" >
                </div>
                <div class="ilce  left-1 w-25">
                  
                
                  <input type="text" class="du-input du-validator shadow" name="ilce" id="ilce" placeholder="İlçe" >
                </div>
                <div class="zipcode w-38 ">
                  <label class="du-input bg-white shadow du-validator" >
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4  opacity-50">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                  </svg>
                  <input  required minlength="5" maxlength="5" type="text" oninput="this.value=this.value.replace(/[^0-9]/g,'');" name="zipcode" placeholder="ZIP Kodu:35000" id="zipcode">
                </label>
                  
                </div>
                
            </div>
            <div class="acik-adres flex flex-col">
                
              <label  for="acikadres">Açık Adres
              
              </label>
              <textarea class="du-textarea w-92  bg-white" required  name="acikadres" id="acikadres"></textarea>
              </div>
            <div class="buton-ileri flex justify-center pt-3">
            
              <a class="du-btn  bg-green-100 hover:bg-green-300" onclick="tabs(1)" type="button" href="">Devam Et</a>
            
            </div>
          </div>
          </div>
          <div id="odeme" class="tab odeme tabShow transition-all duration-500 flex  justify-center shadow-2xl relative h-auto bg-white w-full lg:w-2/3 rounded-4xl  ">
              <div class="odeme-wrapper">
                <div class="odeme-baslik flex justify-center p-4">
                  <span class="font-bold"><h1>Ödeme Yöntemi</h1></span>
                </div>
                <div id="degerler">

                  <input type="hidden" id="default-card-no" value="{{ credit_card_first.card_no }}">
                  <input type="hidden" id="default-card-exp" value="{{ credit_card_first.card_exp }}">
                  <input type="hidden" id="default-card-owner" value="{{ credit_card_first.card_owner }}">
                  <input type="hidden" id="default-card-cvv" value="{{ credit_card_first.card_cvv }}">
                </div>
              
                <div id="kart-info" class="w-full h-auto rounded-2xl bg-gradient-to-r from-white to-base-300 text-black p-3 shadow-lg flex flex-col justify-between">
                  <div id="wrapper-for-kart" class="wrapper-for-kart">

                    <div class="flex justify-between items-center">
                      <div class="text-sm tracking-wider">{{credit_card_first}}</div>
                     
                        <label for="kart-drawer" class="du-btn rounded-xl text-sm font-medium px-4 py-2 border border-black bg-white text-black hover:bg-gray-100 hover:shadow-[0_0_15px_4px_rgba(0,0,0,0.1)] transition-all duration-300 ease-in-out">
                        Ekle/Değiştir
                      </label>
                      
                    </div>
                  
                    <div class="text-lg font-mono tracking-widest mt-1 ">
                      {{credit_card_first.last_four}}
                    </div>
                  
                    <div class="flex justify-between items-center text-sm mt-2">
                      <div>
                        <div class="uppercase text-xs">Kart Sahibi</div>
                        <div class="font-semibold">{{credit_card_first.card_owner}}</div>
                      </div>
                      <div>
                        <div class="uppercase text-xs">Geçerlilik Süresi</div>
                        <div class="font-semibold">{{credit_card_first.card_exp}}</div>
                      </div>
                    </div>
                  </div>
                </div>
                 <!-- Checkbox -->
                 <div class="varsayilan-sec flex items-center justify-end gap-3 pt-5">
                  <label for="kullan-kart" class="text-sm text-gray-700">
                    Bu kartı kullanmak istiyor musunuz?
                  </label>
                  <input type="checkbox" id="use-default-cc" class="du-checkbox w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500" id="kullan-kart" name="kullan">
                </div>
                <!--
                
                <div class="kayitli-kart-bolumu pb-4">
                  <div class="kayitli-kart-bilgi  flex flex-row ">
                    <div class="kayitli-kart-detay p-5 w-full bg-gray-50 border-1 shadow rounded-box">
                      <div class="kart-title">
                        {{credit_card_first}}
                      </div>
                      <div class="kart-no">
                        {{credit_card_first.last_four}}
                      </div>
                      <div class="exp-date">
                        {{credit_card_first.card_exp}}
                      </div>
                    </div>
                  </div>
                </div>
                -->
              <div class="odeme-yontemi flex gap-x-4 p-2 ">
                
                <div class="kart">
                  <span >Kredi/Banka Kartı</span>
                  <input class="du-radio du-radio-info checked:bg-white " required checked="checked"  type="radio" name="odeme" id="kart">
                
                </div>
              <!-- <div class="havale">
                  <span>EFT/Havale</span>
                  <input class="du-radio du-radio-info checked:bg-white" required  type="radio" name="odeme" id="havale">
                </div>
                -->
              </div>
              <div class="kart-no-tarih justify-center flex flex-row gap-3 pb-4">
              <div class="kart-no">
                <label class="du-input bg-white shadow du-validator" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 opacity-50">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z" />
                </svg>
                <input required type="text" oninput="this.value=this.value.replace(/[^0-9]/g,'');" minlength="12" maxlength="12" name="kartno"  placeholder="16 Haneli Kart Numarası " id="kartno">
                </label>
                
              </div>
              <div class="kart-tarih">
                <label class="du-input bg-white shadow du-validator" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 opacity-50">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z" />
                </svg>
          
              
                <input required  type="text" oninput="this.value=this.value.replace(/[^0-9]/g,'');" minlength="5" maxlength="5" name="exp" id="expiry" placeholder="MM/YY" >
                </label>
              </div>
            </div>
            <div class="kart-isim-cvc flex flex-row  gap-3">
              <div class="kart-ful-isim">
                <label class="du-input bg-white shadow du-validator" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 opacity-50">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                </svg>
                <input required  type="text" minlength="2" name="kart-isim" oninput="this.value=this.value.replace(/[^a-zA-Z\s]/g,'');" placeholder="İsim Soyisim" id="isim-soyisim">
                </label>
              </div>
              <div class="kart-cvc">
                <label class="du-input bg-white shadow du-validator" ><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 opacity-50">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
                </svg>
                <input required type="password" oninput="this.value=this.value.replace(/[^0-9]/g,'');" minlength="3" maxlength="3" name="cvc" placeholder="***" id="cvc">
                </label>
              
              </div>
            </div>
            <div class="button-wrapper flex p-5 gap-x-5">
              <div class="flex justify-center ">
                
                  <a class="du-btn du-btn-info" onclick="tabs(0)">Önceki Sayfaya Geri Dön</a>
            
              </div>
              <div class="submit ">
              <button type="submit">
                <a class="du-btn du-btn-success" type="button">Siparişi Tamamla</a>
          
              </button>
                
              </div>
            
            </div>
            </div>
          </div>
          </form>
          <div class="sepet flex p-5  justify-center shadow-2xl relative h-100 bg-white w-full lg:w-2/3 rounded-4xl ">
              <div class="sepet-wrapper  z-10 no-scrollbar overflow-y-scroll flex-1">
                <div class="genel-baslik  text-center font-medium pb-4">
                  <div class="baslik  pt-4 pb-4">
                    <h1>Sepet Özeti</h1>
  
                  </div>
                  <div class="border-b-2"></div>
                </div>
                <div class="basliklar flex flex-row gap-x-15 pb-5">
                  <div class="baslik1">Ürün Görseli</div>
                  <div class="baslik2">Ürün Adı</div>
                  <div class="baslik3">Ürün Adedi</div>
                  <div class="baslik4">Ürün Fiyatı</div>
                </div>
                {%if quick_buy%}
                <div class="urunler-wrapper flex flex-row gap-17 pr-4  ">
                  <div class="urun-gorseli pl-4 justify-center ">
                    <div class="du-avatar  w-12 h-12">
                      <img src="{{quick_buy.item_name.product_image.url}}" alt="">
                    </div>
                  </div>
                  <div class="urun-adi flex flex-row overflow-y-clip">
                    <div class="urun-isim flex w-30   ">
                      {{quick_buy.item_name.product_name}}
                    </div>
                  </div>
                  <div class="urun-adedi">
                    <div class="urun-adet">
                    <span>{{quick_buy.item_quantity}} x {{quick_buy.item_name.product_price}}₺</span>
                  </div>
                  </div>
                  <div class="urun-fiyati ">
                    <div class="urun-fiyat ">
                      <span>{{quick_buy.item_total}}₺</span>
                    </div>
                  </div>
                </div>
                {%endif%}
            
              </div>
              <div class="toplam-wrap  absolute top-90 z-1 mx-4 mb-4 w-full bg-white  shadow-2xl rounded-b-4xl h-32 flex items-center justify-between px-6">
                <div class="toplam-label ">
                  <h1 class="text-3xl font-medium">Toplam</h1>
                </div>
                <div class="toplam-price">
                  <h1 class="text-3xl font-bold text-green-500 text-right">{{ quick_buy.item_total }}₺</h1>
                </div>
              </div>
          </div>
        </div> 
        <div class="du-drawer-side z-99">
          <label for="kart-drawer" aria-label="close sidebar" class="du-drawer-overlay"></label>
          <ul class="du-menu bg-white text-base-content min-h-full w-150 p-4">
            <div class="card-section panel grid grid-rows-1" >
              <div class="title text-black text-4xl flex pb-3 justify-center items-center">
  
                <h1>Kartlarım</h1>
              </div>
              <div class="card-wrapper grid grid-cols-1  gap-6">
                {%for cc in credit_card%}
                <div class="credit-card-outer du-card text-white bg-gray-600 hover:bg-gray-800 transition-all shadow-[0px_4px_10px_rgba(0,0,0,0.55)] rounded-xl">
                  <div class="credit-card-inner du-card-body ">
                    <div class="creditcard-info">
                      <div class="baslik flex  justify-between items-center">
                        <div class="baslik-alt">
                          {{cc}}
  
                        </div>
                        <div class="buton-card" data-cc-id="{{ cc.id }}">
                          {%if cc.isDefault%}
                            <input type="radio" class="du-radio cc-radio" name="default_cc" checked>
                          {% else %}
                            <input type="radio" class="du-radio cc-radio" name="default_cc">
                          {% endif %}
                        </div>
                      </div>
                      <div class="kart-numara text-lg">{{cc.last_four}}</div>
                      <div class="kart-altbilgi flex flex-row justify-between ">
                        <div class="kart-sahip">{{cc.card_owner}}</div>
                        <div class="kart-exp ">{{cc.card_exp}}</div>
                      </div>
                      
                      
                    </div>
                  </div>
                </div>
                {%endfor%}
              </div>
           
          </ul>
        </div>
      </div>
    </div>
    <div class="du-drawer-side z-99">
      
      <label for="my-drawer" aria-label="close sidebar" class="du-drawer-overlay"></label>
        <ul class="du-menu bg-white text-base-content min-h-full w-150 p-4">
      
          
            <div class="shipping-address panel grid grid-rows-1 ">
              <div class="title items-center justify-center flex p-5 text-3xl">
                <h1 >Adreslerim </h1>
                {%if not adres%}
              <div class="title items-center justify-center flex p-5 text-xl"></div>
                <h2>Henüz adres eklememişsiniz</h2>
                {%endif%}
              </div>
              
              <div class="wrap grid grid-cols-1 gap-6">
                {% for ads in adres %}
                <div class="shipping-main-container hover:bg-gray-200 transform  shadow-[0px_4px_10px_rgba(0,0,0,0.55)] rounded-xl p-3 relative">
                  <div class="shipping-container ">
                    <div class="shipping-wrapper ">
                      
                      
                        <div class="baslik flex text-black  justify-between text-3xl  items-center">
                          <div class="baslik-alt  ">
  
                            <h5>{{ ads.address_title }}</h5>
                          </div>
                          <div class="buton123" data-address-id="{{ ads.id }}">
                            {% if ads.isDefault %}
                              <input type="radio" class="du-radio" name="default_address" checked>
                            {% else %}
                              <input type="radio" class="du-radio" name="default_address">
                            {% endif %}
                          </div>
                        </div>
                      
                        <div class="adres text-xl">
                          <div class="isimsoyisim flex flex-row gap-1">
                            <p>{{ads.name}}</p>
                            <p>{{ads.surname}}</p>
                            <p> +90&nbsp;{{ads.telno}}</p>
                          </div>
                          <div class="acik-adres " >
                            <p>{{ads.open_address}}</p>
                            <p>{{ads.town}}/{{ads.city}}</p>
                            <p>{{ads.zipcode}}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>  
                  {%endfor%}
                  </div>  
      
  
        
        </ul>
    </div>
  </div>
  
    
  
  
</div>


<script>
  // Kart tarih kısmında hem alfabeleri engellemek hemde 2 karakter girildikten sonra
  // otomatik olarak ortaya "/" koyma fonksiyonu
  const expiryInput = document.getElementById("expiry");

  expiryInput.addEventListener("input", (e) => {
    let value = e.target.value.replace(/\D/g, ""); // Numara olmayan karakterleri alma

    if (value.length >= 3) {
      value = value.slice(0, 2) + '/' + value.slice(2, 4);
    }

    e.target.value = value;
  });

  expiryInput.addEventListener("blur", () => {
    const value = expiryInput.value;
    const regex = /^(0[1-9]|1[0-2])\/\d{2}$/;

   
  });
</script>
<script src="{%static 'intern_app/js/jquery.js'%}"></script>
    <!-- Arayüzü değiştirme -->
    <script>
      // DOM'un yüklenmesini bekle
  document.addEventListener('DOMContentLoaded', () => {
    const tabs = document.querySelectorAll('.tab');
    
    function showTab(index) {
      tabs.forEach((tab, i) => {
        if (i === index) {
          tab.classList.add('active');
          tab.style.display = 'flex';
        } else {
          tab.classList.remove('active');
          tab.style.display = 'none';
        }
      });
    }

    // İlk gösterilecek ekran
    showTab(0);

    
    window.tabs = function(index) {
      event.preventDefault();
      showTab(index);
    };
  });
    </script>
<script>
  let isFormSubmitted = false;  // Başta form gönderilmedi

  // Form gönderilirse
  document.getElementById('regForm').addEventListener('submit', function(event) {
    isFormSubmitted = true;   // Form gönderildi
  });

  // Sayfadan ayrılırken
  window.addEventListener('beforeunload', function(event) {
    if (!isFormSubmitted) {
      // Eğer form gönderilmemişse, ürünü sil
      fetch('/clear-quick-buy/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-CSRFToken': '{{ csrf_token }}',
        },
        body: JSON.stringify({ user_id: '{{ request.user.id }}' })
      });
    }
  });
</script>
<script>
  // Kart secimi
  document.addEventListener('DOMContentLoaded', function () {
    const radios = document.querySelectorAll('.cc-radio');

    radios.forEach(radio => {
      radio.addEventListener('change', function () {
        const selectedBox = this.closest('.buton-card');
        const ccId = selectedBox.dataset.ccId;

        fetch('{% url "intern_app:only_default_update_cc" %}', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'X-CSRFToken': '{{ csrf_token }}',
          },
          body: new URLSearchParams({
            cc_id: ccId
          })
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            // Tüm radio'ları sıfırla
            document.querySelectorAll('.cc-radio').forEach(r => {
              r.checked = false;
            });
            // Sadece seçileni işaretle
            this.checked = true;
            $("#wrapper-for-kart").load(location.href + " #wrapper-for-kart");
            $("#degerler").load(location.href + " #degerler");
          } else {
            alert(data.message);
            
          }

        })
        .catch(() => alert("Hata oluştu."));
      });
    });
  });


</script>

<script>
  // Adres seçimi
  document.addEventListener('DOMContentLoaded', function () {
    const radios = document.querySelectorAll('.du-radio');

    radios.forEach(radio => {
      radio.addEventListener('change', function () {
        const selectedBox = this.closest('.buton123');
        const addressId = selectedBox.dataset.addressId;

        fetch('{% url "intern_app:only_default_update_address" %}', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'X-CSRFToken': '{{ csrf_token }}',
          },
          body: new URLSearchParams({
            address_id: addressId
          })
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            // Tüm radio'ları sıfırla
            document.querySelectorAll('.du-radio').forEach(r => {
              r.checked = false;
            });
            // Sadece seçileni işaretle
            this.checked = true;
            $("#wrapper").load(location.href + " #wrapper");
            $("#degerler-adres").load(location.href + " #degerler-adres");

            
          } else {
            alert(data.message);
            
          }

        })
        .catch(() => alert("Hata oluştu."));
      });
    });
  });


</script>
<script>
  // Adres verilerini aktarmak için
  document.getElementById('use-default-address').addEventListener('change', function () {
    if (this.checked) {
      document.getElementById('name').value = document.getElementById('default-name').value;
      document.getElementById('surname').value = document.getElementById('default-surname').value;
      document.getElementById('email').value = document.getElementById('default-email').value;
      document.getElementById('telno').value = document.getElementById('default-telno').value;
      document.getElementById('il').value = document.getElementById('default-city').value;
      document.getElementById('ilce').value = document.getElementById('default-town').value;
      document.getElementById('zipcode').value = document.getElementById('default-zipcode').value;
      document.getElementById('acikadres').value = document.getElementById('default-open_address').value;
    } else {
      // temizle
      document.getElementById('name').value = "";
      document.getElementById('surname').value ="";
      document.getElementById('email').value ="";
      document.getElementById('telno').value ="";
      document.getElementById('il').value ="";
      document.getElementById('ilce').value ="";
      document.getElementById('zipcode').value ="";
      document.getElementById('acikadres').value ="";
    }
  });
</script>

<script>
  document.getElementById("use-default-cc").addEventListener('change',function(){
    if (this.checked){
      document.getElementById("kartno").value = document.getElementById("default-card-no").value;
      document.getElementById("expiry").value = document.getElementById("default-card-exp").value;
      document.getElementById("isim-soyisim").value = document.getElementById("default-card-owner").value;
      document.getElementById("cvc").value = document.getElementById("default-card-cvc").value;
    } else{
      document.getElementById("kartno").value = "";
      document.getElementById("expiry").value = "";
      document.getElementById("isim-soyisim").value = "";
      document.getElementById("cvc").value = "";
    }
      
    
  });
  
  
  
 
 
</script>
</body>

</html>